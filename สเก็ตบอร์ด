-- Delta Executor Speed Hub (All-in-One)
local LPlayer = game:GetService("Players").LocalPlayer
local CoreGui = game:GetService("CoreGui")

-- 1. สร้าง UI แบบง่ายๆ
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "SpeedChangerUI"
ScreenGui.Parent = CoreGui

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 200, 0, 100)
MainFrame.Position = UDim2.new(0.5, -100, 0.4, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MainFrame.Active = true
MainFrame.Draggable = true -- ทำให้ลากหน้าต่างไปมาได้บนมือถือ
MainFrame.Parent = ScreenGui

local Title = Instance.new("TextLabel")
Title.Text = "Skate Speed (Delta)"
Title.Size = UDim2.new(1, 0, 0, 30)
Title.TextColor3 = Color3.new(1, 1, 1)
Title.BackgroundTransparency = 1
Title.Parent = MainFrame

local SpeedInput = Instance.new("TextBox")
SpeedInput.Size = UDim2.new(0.8, 0, 0, 30)
SpeedInput.Position = UDim2.new(0.1, 0, 0.35, 0)
SpeedInput.PlaceholderText = "ใส่ตัวเลขความเร็ว..."
SpeedInput.Text = ""
SpeedInput.Parent = MainFrame

local SetButton = Instance.new("TextButton")
SetButton.Size = UDim2.new(0.8, 0, 0, 25)
SetButton.Position = UDim2.new(0.1, 0, 0.7, 0)
SetButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
SetButton.Text = "ปรับความเร็ว"
SetButton.TextColor3 = Color3.new(1, 1, 1)
SetButton.Parent = MainFrame

-- 2. ระบบปรับค่าความเร็ว
SetButton.MouseButton1Click:Connect(function()
    local newSpeed = tonumber(SpeedInput.Text)
    if not newSpeed then
        SpeedInput.Text = "ใส่ตัวเลขเท่านั้น!"
        wait(1)
        SpeedInput.Text = ""
        return
    end

    -- ค้นหารถที่นั่งอยู่
    local char = LPlayer.Character
    if char and char:FindFirstChildOfClass("Humanoid") then
        local seat = char.Humanoid.SeatPart
        if seat and seat:IsA("VehicleSeat") then
            local car = seat.Parent
            local config = car:FindFirstChild("Configuration")
            
            if config then
                -- ปรับค่าใน Configuration ตามโครงสร้างสคิปต์เดิมของคุณ
                if config:FindFirstChild("Forwards Speed") then
                    config["Forwards Speed"].Value = newSpeed
                end
                if config:FindFirstChild("Reverse Speed") then
                    config["Reverse Speed"].Value = math.floor(newSpeed / 2) -- ปรับความเร็วถอยหลังให้สัมพันธ์กัน
                end
                
                -- บังคับอัปเดต MaxSpeed ทันที
                seat.MaxSpeed = newSpeed
                
                print("Speed Updated to: " .. newSpeed)
                SpeedInput.Text = "สำเร็จ!"
                wait(1)
                SpeedInput.Text = newSpeed
            else
                print("ไม่พบโฟลเดอร์ Configuration ในตัวรถ")
            end
        else
            print("คุณต้องนั่งบนสเก็ต/รถก่อน!")
        end
    end
end)

-- ปุ่มปิด UI
local CloseBtn = Instance.new("TextButton")
CloseBtn.Text = "X"
CloseBtn.Size = UDim2.new(0, 20, 0, 20)
CloseBtn.Position = UDim2.new(1, -20, 0, 0)
CloseBtn.BackgroundColor3 = Color3.new(1, 0, 0)
CloseBtn.Parent = MainFrame
CloseBtn.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)
